{% extends 'base_consultas.html' %}
{% load static %}

{% block encabezado %}
  <div class="col-md-3 col-lg-2 d-flex justify-content-center align-items-center h-100"><a class="btn d-block btn-secondary" href="{% url 'consulta_tubo_carcasa' %}">↶ Regresar</a></div>
  <div class="col-md-6 col-lg-8"><h3 class="text-center" style="color: #e31e24;">Simulaciones del Intercambiador 180-C</h3></div>
  <div class="col-md-3 col-lg-2 d-flex justify-content-center align-items-center h-100">
    <a class="btn d-block btn-success" href="{% url 'crear_simulacion_tubo_carcasa' pk=1 %}">+ Nueva</a> &nbsp;
  </div>

  <script>
    let chart = null;
    let canvas = null;
    let datosGrafica = null;
  </script>
{% endblock %}

{% block formulario_filtrado %}
  <div class="d-flex flex-column col-3">
    <label class="form-label" for="tag">Desde:</label>
    <input type="datetime-local" class="form-control" name="desde" id="desde">
  </div>
  <div class="d-flex flex-column col-3">
      <label class="form-label" for="empresa">Hasta:</label>
      <input type="datetime-local" class="form-control" name="hasta" id="hasta">
  </div>
  <div class="d-flex flex-column col-3">
      <label class="form-label" for="condiciones">Condiciones:</label>
      <select name="condiciones" id="condiciones" class="form-control">
        <option value="">
          ----------------------------
        </option>
        <option value="D">
          Diseño
        </option>
        <option value="M">
          Máximas
        </option>
        <option value="m">
          Mínimas                            
        </option>
        <option value="P">
          Planta
        </option>
      </select>
  </div>
  <div class="d-flex flex-column col-3">
    <label class="form-label" for="tag">Método:</label>
    <select name="condiciones" id="condiciones" class="form-control">
      <option value="">
        ----------------------------
      </option>
      <option value="E">
        Método Eficiencia-NTU
      </option>
      <option value="L">
        Método LMTD
      </option>
    </select>
  </div>
{% endblock %}
  
{% block tabla %}
<thead class="text-center">
  <tr>
    <th scope="col">#</th>
    <th scope="col">Fecha</th>
    <th scope="col">Nombre</th>
    <th scope="col">Condiciones</th>
    <th scope="col">Método</th>
    <th scope="col">Resultados</th>
  </tr>
</thead>
<tbody class="text-center">
  {% for z in numeros %}
  <tr>
    <td>{{z}}</td>
    <td>08/09/2023 09:02:00</td>
    <td>Prueba de Nuevas Temperaturas</td>
    <td>De Diseño</td>
    <td>Eficiencia-NTU</td>
    <td>
      {% include 'resultados/intercambiadores/tubo_carcasa.html' %}
      
      <button data-bs-toggle="modal" id="boton_resultados_{{z}}" data-bs-target="#resultados_{{z}}" class="btn btn-danger"><img width="25px" src="{% static 'img/iconos/resultados.png' %}" alt="Ícono de Resultados"></button>
    </td>
  </tr>
  {% endfor %}
</tbody>
{% endblock %}

{% block opciones %}
<div>
  <form method="get">
    <button class="btn btn-danger d-inline-flex" style="color: black;"><img src="{% static 'img/iconos/pdf.png' %}" width="20px" alt="Ícono Reporte PDF">&nbsp;Reporte PDF</button>
    <button class="btn btn-success d-inline-flex" style="color: black;"><img src="{% static 'img/iconos/xlsx.png' %}" width="20px" alt="Ícono Reporte XLSX">&nbsp;Reporte XLSX</button>
    <button type="button" class="btn btn-secondary" style="color: black;" data-bs-toggle="modal" data-bs-target="#ficha_{{x}}"><img width="25px" src="{% static 'img/iconos/ficha.png' %}" alt="Mostrar ficha técnica">&nbsp;Ficha Técnica</button>
  </form>
  {% include 'fichas/intercambiadores/tubo_carcasa.html' %}
</div>
<nav aria-label="Page navigation example">
    <ul class="pagination">
      <li class="page-item">
        <a class="page-link bg-dark text-white" href="#" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      <li class="page-item"><a class="page-link bg-dark text-white" href="#">1</a></li>
      <li class="page-item"><a class="page-link bg-dark text-white" href="#">2</a></li>
      <li class="page-item"><a class="page-link bg-dark text-white" href="#">3</a></li>
      <li class="page-item">
        <a class="page-link bg-dark text-white" href="#" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
</nav>
{% endblock %}